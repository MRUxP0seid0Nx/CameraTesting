<!DOCTYPE html>

<html>
    <head>
        <meta http-equiv="Content-Security-Policy" 
            content="default-src 'self' data: gap: https://ssl.gstatic.com 'unsafe-eval'; 
            style-src 'self' 'unsafe-inline'; 
            media-src *; 
            script-src 'self' 'unsafe-inline';
            img-src 'self' data: content:;">
        <meta name="format-detection" content="telephone=no">
        <meta name="msapplication-tap-highlight" content="no">
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">
        <title>Camera Testing</title>
    </head>
    <body>
			<br>
			<center><h1>MRUxP0seid0Nx</h1></center>
			<center><h3>Camera Testing for Multimedia and Applications</h3></center>
            <center><img src="img/logo.png" alt="image" id="photo" /></center>
            <center><button id="takepicbtn">Take Picture</button></center>
            <center><p id="message"></p></center>
        
        <script type="text/javascript" src="cordova.js"></script>
        <script>
            let app = {
                init: function(){
                    document.getElementById('takepicbtn').addEventListener('click', app.takephoto);
                },
                takephoto: function(){
                    let options = {
                        quality: 80,
                        destinationType: Camera.DestinationType.FILE_URI,
                        sourceType: Camera.PictureSourceType.CAMERA,
                        mediaType: Camera.MediaType.PICTURE,
                        encodingType: Camera.EncodingType.JPEG,
                        cameraDirection: Camera.Direction.BACK,
                        targetWidth: 300,
                        targetHeight: 400
                    };
                    
                    navigator.camera.getPicture(app.successMsg, app.failureMsg, options);
                },
                successMsg: function(imageURL){
                    document.getElementById('message').textContent = imageURL;
                    document.getElementById('photo').src = imageURL;
                    
                },
                failureMsg: function(message){
                    document.getElementById('message').textContent = message;
                }
            };
            
            document.addEventListener('deviceready', app.init);
        </script>
    </body>
</html>
